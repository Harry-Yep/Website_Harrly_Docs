# Notion Photo React Documentation

## What is this

Notion Photo React is a Photo Gallery powered by Notion, built with React, Next.js, tailwindcss, TypeScript, Notion-Api-Worker and more.

## TL;DR

1. Fork the [**Notion Photo React**](https://github.com/okisdev/Notion-Photo-React) from GitHub.
2. Change setting in [`config/site.config.js`](https://github.com/okisdev/Notion-Photo-React/blob/main/config/site.config.js) file.
3. Import to Vercel by clicking this quick [link](https://vercel.com/new/git/external?repository-url=https%3A%2F%2Fgithub.com%2FHarry-Yep%2FNotion-Photo-React).
4. Add two environment variables `NOTION_API` and `NOTION_TABLE_SLUG` to Vercel configuration.
5. Deploy it.

You can now visit the link generated by Vercel.

## Complete Deployment Guide

If you are interested in this project, you can have a try it by using the doing the following things.

:::tip
To do the following, you need to have GitHub account ready.
:::

### Fork this project

Visiting [**Notion Photo React**](https://github.com/okisdev/Notion-Photo-React) on GitHub, and click the `fork` on the top right.

![1.project](/docs/notion-photo-react/intro/1.project.png)

### Change the site configuration

Enter [`config/site.config.js`](https://github.com/okisdev/Notion-Photo-React/blob/main/config/site.config.js), change the configuration.

<details>
  <summary>See details about the each variable</summary>

```js
// Before you make changes to this document, please read https://docs.okis.dev/docs/notion-photo-react#change-the-site-configuration

module.exports = {
    global: {
        site: {
            name: 'Notion Photo React Example',
            description: 'Photo Gallery built with Notion, React.JS, Next.JS, tailwindcss, TypeScript, notion-api-worker and more.',
            url: 'https://npr.okis.dev/',
            author: 'Harry Yep',
            banner_img: `https://cdn.harrly.com/project/GitHub/Notion-Photo-React/img/Notion-Photo-React.Banner.png`,
            nav: [
                {
                    name: 'Home',
                    url: '/',
                    external: false,
                    position: 'left',
                },
                {
                    name: 'GitHub',
                    url: 'https://github.com/okisdev',
                    external: true,
                    position: 'right',
                },
            ],
            language: [
                { name: 'üá¨üáß English', code: 'en-GB' },
                { name: 'üá®üá≥ ÁÆÄ‰Ωì‰∏≠Êñá', code: 'zh-CN' },
                { name: 'üá≠üá∞ ÁπÅÈ´î‰∏≠Êñá', code: 'zh-HK' },
            ],
            font: '',
        },
        content: {
            header: {
                description: `A Photo Gallery built with <a href='https://notion.so/' class='transition duration-500 underline hover:bg-yellow-500 dark:hover:bg-yellow-600' target='_blank' rel='noopener noreferrer'>Notion</a>, <a href='https://nextjs.org/' class='transition duration-500 underline hover:bg-yellow-500 dark:hover:bg-yellow-600' target='_blank' rel='noopener noreferrer'>Next.js</a>, <a href='https://tailwindcss.com/' class='transition duration-500 underline hover:bg-yellow-500 dark:hover:bg-yellow-600' target='_blank' rel='noopener noreferrer'>tailwindcss</a>, <a href='https://www.typescriptlang.org/' class='transition duration-500 underline hover:bg-yellow-500 dark:hover:bg-yellow-600' target='_blank' rel='noopener noreferrer'>TypeScript</a>, <a href='https://github.com/splitbee/notion-api-worker' class='transition duration-500 underline hover:bg-yellow-500 dark:hover:bg-yellow-600' target='_blank' rel='noopener noreferrer'>Notion-Api-Worker</a> and more. (Find more on <a href='https://github.com/Harry-Yep/Notion-Photo-React' class='transition duration-500 underline hover:bg-yellow-500 dark:hover:bg-yellow-600' target='_blank' rel='noopener noreferrer'>GitHub</a>)`,
            },
            license: {
                name: 'CC BY-NC-SA 4.0',
                url: 'https://creativecommons.org/licenses/by-nc-sa/4.0/',
            },
            footer: {
                copyright: 'Copyright ¬© 2023 Harry Yep. All rights reserved.',
            },
        },
        analytics: {
            umami: {
                url: 'https://umami.harisfox.com/script.js',
                website_id: '4c785146-016d-48b8-81fe-85172c82b37d',
            },
        },
    },
};
```

</details>

### Notion API Preparation

:::tip
This will be one of the Environment Variable of your site, called `NOTION_API`.
:::

:::warning
Please do not add `http://` or `https://` before `NOTION_API`.
:::

You can use `notion-api.splitbee.io` if you don't want to make your own one.

Alternatively, see [here](https://github.com/splitbee/notion-api-worker) for how to deploy a notion-api by yourself.

### Create the Database in Notion

:::tip
This will be one of the Environment Variable of your site, called `NOTION_TABLE_SLUG`.
:::

You should create a notion table with below properties. (You can duplicate a template from [here](https://okisdev.notion.site/d04d7d2efc9a4e79a3c98d7d4c9e8fc9).)

<details>
  <summary>See details about the each property</summary>

```
title: Title
location: Select
published: Checkbox
date: Date
slug: Text
url: URL (Your photo image url)
```

</details>

:::warning
Please don't leave blank in any property box, excepted checkbox and description.

An error will happen if you do so.
:::

### Deploy on Serverless platform

We have now finished the large part of configuration, it is time to deploy it.

You can choose to deploy it on any serverless which support Next.JS framework, we recommend [Vercel](https://vercel.com), you can use [Netlify](https://www.netlify.com/), etc.

:::warning
Please don't use [Cloudflare Pages](https://pages.cloudflare.com/), they only support Next.JS Static Deploy at the moment.
:::

1. To deploy it on Vercel, visit Vercel and click the New Project button.

    ![2.new-project](/docs/notion-photo-react/intro/2.new-project.png)

2. Import your forked repository.

    ![3.import](/docs/notion-photo-react/intro/3.import.png)

    This is how configuration looks like.

    :::info
    It is important to add the `Environment Variables`, else, the deployment will fail.
    :::

    ![4.configure](/docs/notion-photo-react/intro/4.configure.png)

3. After all setup, click Deploy.

4. You can visit your website via Vercel auto-generated URL (If you deploy with Vercel, it should ending with `vercel.app`).

### Deploy it locally

We have now finished the large part of configuration, it is time to deploy it.

You can download your whole project by clicking the **Download ZIP** on your GitHub, or you can **clone** it if you prefer to do so.

![5.download](/docs/notion-photo-react/intro/5.download.png)

After that, please do the following things:

1. Open your project in an IDE, such as **VSCode**, or terminal, such as **iterm2**.
2. Create a `.env.local` in the root path of the project.
3. Copy and paste from `.env.example` to `.env.local`.
4. Fill in the environment variables in `.env.local`.
   :::info
   It is important to add the `Environment Variables`, else, the deployment will fail.
   :::
5. Run `yarn` in your project.
6. Run `yarn build && yarn start` in your project.
7. You can now able to visit your website via `http://localhost:3000`.
